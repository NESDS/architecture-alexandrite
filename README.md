# Проектная работа: Архитектура системы «Александрит»

Архитектурные решения для ювелирной компании «Александрит» по устранению проблем масштабирования и observability.

## Структура проекта

### [Task1: Планирование](Task1)
- Анализ 9 критических проблем системы
- 10 инициатив с приоритизацией
- Целевая архитектура на 6 месяцев
- Топ-3 инициативы для первоочередной реализации

### [Task2: Мониторинг](Task2)
- Выбор подходов: RED, USE, 4 золотых сигнала
- 30+ метрик для отслеживания (API, БД, RabbitMQ, Redis)
- План внедрения Prometheus + Grafana + Alertmanager
- Пороговые значения и реакция на инциденты

### [Task3: Трейсинг](Task3)
- Jaeger + OpenTelemetry для сквозного трейсинга заказов
- Автоматический мониторинг на основе span metrics
- Интеграция с Prometheus и Grafana
- [Диаграмма архитектуры](Task3/Схема%20с%20трейсингом%20и%20автоматизацией.drawio)

### [Task4: Логирование](Task4)
- ELK Stack (Elasticsearch + Logstash + Kibana)
- Централизованные логи с trace_id для корреляции
- Политики безопасности и хранения
- ML-based anomaly detection

### [Task5: Кеширование](Task5)
- Redis + Cache-Aside паттерн для MES дашборда
- Гибридная инвалидация (TTL + event-based)
- Sequence диаграммы операций
- Улучшение производительности в 10x

## Технологический стек

**Observability:**
- Prometheus - метрики
- Grafana - визуализация
- Jaeger - трейсинг
- ELK Stack - логирование
- Alertmanager - алертинг

**Инфраструктура:**
- Redis - кеширование
- RabbitMQ - очереди сообщений
- PostgreSQL - основные БД
- S3 - хранение 3D моделей
- Yandex Cloud - облачная инфраструктура

## Ключевые метрики

- MTTR: 4-8 часов → **15-30 минут**
- Latency MES дашборда: 10 сек → **<1 сек**
- Order Completion Rate: **99.5%** (target)
- Redis Hit Rate: **>80%**

## Единая архитектура Observability

Все компоненты связаны через `trace_id`:
```
[Grafana] - единая точка входа
    ├── [Prometheus] - метрики
    ├── [Jaeger] - трейсы
    └── [Elasticsearch] - логи
         ↑
    [Shop API | CRM API | MES API]
```

## Автор

Проект выполнен в рамках курса "Software Architecture" - Спринт 6

